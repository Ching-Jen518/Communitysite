@model PathPlus.Models.PersonalViewModel


<div class="container">

    <div class="row form-inline">
        <div class="col-md-4">
            <img src="~/Selfphoto/@ViewBag.ph" style="border-radius:50% ;width:250px ;height:250px ;"/>
        </div>
        <div class="col-md-2 ">
            <div class=" mt-2 mr-3">
                <input class="btn btn-info align-self-end col-md" id="Button1" type="button" value="編輯個人檔案" data-toggle="modal" data-target="#Editpersonal" />
            </div>
            <div class=" mt-2 mr-3">
                <input class="btn btn-info align-self-end col-md " id="Button2" type="button" value="更換大頭照" data-toggle="modal" data-target="#selfphoto" />
            </div>
            <div class=" mt-2 mr-3">
                <input class="btn btn-info align-self-end col-md " id="Button3" type="button" value="發文" data-toggle="modal" data-target="#staticBackdrop" />
            </div>
        </div>
        <div class="card-deck col-md-6">
            <div class="card border-0 mx-1" style="max-width: 18rem;">
                <div class="card-header h2 bg-white">
                    <strong>
                        @foreach (var item in Model.member)
                        {
                            @item.Fans
                        }
                    </strong>
                </div>
                <div class="card-body text-secondary ">
                    <p class="card-text">
                        <strong>粉絲人數</strong>   
                    </p>

                </div>
            </div>

            <div class="card border-0 mx-1" style="max-width: 18rem; ">
                <div class="card-header h2 bg-white">
                    <strong>
                        @foreach (var item in Model.member)
                        {
                            @item.Follower
                        }
                    </strong>
                </div>
                <div class="card-body text-secondary">
                    <p class="card-text">
                        <strong>追蹤人數</strong>
                    </p>
                </div>
            </div>

            <div class="card border-0 mx-1" style="max-width: 18rem;">
                <div class="card-header h2 bg-white">
                    <strong>
                        @foreach (var item in Model.member)
                        {

                            @item.PostCount

                        }
                    </strong>
                </div>
                <div class="card-body text-secondary">
                    <p class="card-text">
                        <strong>貼文數</strong>
                    </p>
                </div>
            </div>
           
        </div>
    </div>
    <hr />

    @*<div class="rounded shadow-none text-center text-white bg-dark " style="font-size:15px;height:20px"><strong>My Post</strong></div>
        <hr />*@
<div class="row">
    
    @foreach (var m in Model.postPhoto)
    {
        
            <div class="col-sm-6 col-xs-12 col-md-4 p-2 " style="width:250px;height:250px" >
                <a href="@Url.Action("viewpost")"><img src="~/Photo/@m.Photo" class="rounded img-thumbnail w-100 h-100" /></a>
            </div>
        
    }

    @* @foreach (var m in Model.post)
        {
            foreach (var a in Model.postPhoto)
            {
                if (m.PostID == a.PostID)
                {
                    for (var i = 0; i < 1; i++)
                    {
                        <div class="col-sm-6 col-xs-12 col-md-4 p-2">
                            <a href="#"><img src="~/Photo/@a.Photo.First()" class="rounded img-thumbnail" /></a>
                        </div>
                    }
                }
            }




        }*@





</div>

    <hr />
    <footer>
    </footer>
</div>


@*//////////////////////////////////////////////////////*@
@using (Html.BeginForm("NewPost", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">分享你的生活</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="dialog" class="none">
                        <div id="dialog-wrapper">
                            <div class="dialog-content">
                                @*----放上傳照片的區塊----*@

                                <div>
                                    <div id="FileUpArea" class="row mt-3">

                                    </div>
                                    <div class="row">
                                        <input id="addFile" type="button" class="form-control col-sm-6 mt-3 " value="增加一個檔案" />
                                        <input id="PhotoFile" name="photo" type="file" class="form-control col-sm-6 mt-3 " value="點我上傳照片" />
                                    </div>

                                </div>

                                @*----放上傳照片的區塊----*@
                                <div class="form-group mt-3">
                                    <textarea class="form-control " name="Pcontent" id="Text1" type="text" required placeholder="請輸入內容"></textarea>
                                </div>
                                <div class="">
                                    <div class="row form-inline mt-1">
                                        <div class="h5">貼文類別</div>
                                        <div class="form-group col-6">
                                            <select id="CID" name="CID" class="form-control">
                                                <option value="0">幽默</option>
                                                <option value="1">建築與裝潢</option>
                                                <option value="2">旅遊</option>
                                                <option value="3">美食</option>
                                                <option value="4">藝術</option>
                                                <option value="5">大自然</option>
                                                <option value="6">時尚</option>
                                                <option value="7">電視與電影</option>
                                                <option value="8">音樂</option>
                                                <option value="9">動畫</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row form-inline mt-1">
                                        <div class="h5">隱私狀態</div>
                                        <div class="form-group col-6">
                                            <select id="SCID" name="SCID" class="form-control">
                                                <option value="0">開放</option>
                                                <option value="1">半開放(限粉絲可看到)</option>
                                                <option value="2">隱藏</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group mt-4">
                                    <div class="d-flex">
                                        <button type="button" class="btn btn-secondary mr-2 ml-auto" data-dismiss="modal">取消</button>
                                        <input type="submit" value="張貼" class="btn btn-primary " />
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

}
@*---------------以上發文彈窗頁面---------------*@
@using (Html.BeginForm("Editpersonal", "PersonalHomePage", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="modal fade" id="Editpersonal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputEmail4">全名</label>
                                <input type="text" class="form-control" id="inputEmail4" name="MemberName" placeholder="@ViewBag.mn">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputPassword4">用戶名稱</label>
                                <input type="text" class="form-control" id="inputPassword4" name="PersonalProfile" placeholder="@ViewBag.pp">
                            </div>


                            <div class="form-group col-md-12">
                                <label for="inputAddress">電子信箱</label>
                                <div>
                                    <input type="email" class="form-control" id="inputAddress" name="Mail" placeholder="@ViewBag.em">
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <label for="inputAddress">地址</label>
                                <div>
                                    <input type="text" class="form-control" id="inputAddress" name="Address" placeholder="高雄市...">
                                </div>
                            </div>
                            <div class="form-group">

                                <label for="inputState">性別</label>
                                <select id="inputState" class="form-control" name="Gender">
                                    <option selected>...</option>
                                    <option>男</option>
                                    <option>女</option>
                                    <option>其他</option>
                                </select>
                            </div>
                        </div>

                        <div class="d-flex justify-content-end ">
                            <div class="mr-3">
                                <button type="submit" class="btn btn-danger ">關閉</button>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-success ">編輯完成</button>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>





}

@*-----------以上編輯個人資料頁面---------------------------------*@
@using (Html.BeginForm("selfphoto", "PersonalHomePage", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="modal fade" id="selfphoto" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">上傳大頭照</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="dialog" class="none">
                        <div id="dialog-wrapper">
                            <div class="dialog-content">
                                @*----放上傳照片的區塊----*@

                                <div>
                                    <div id="FileUpArea" class="row mt-3">

                                    </div>
                                    <div class="row">

                                        <input id="PhotoFile" name="photo" type="file" class="form-control col-sm-6 mt-3 " value="點我上傳照片" />
                                    </div>
                                    <hr />
                                    <input type="submit" value="上傳" class="btn btn-primary " />
                                </div>

                                @*----放上傳照片的區塊----*@

                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>


}

@*---------------以下彈窗瀏覽單則貼文---------------*@

@using (Html.BeginForm("NewPost", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">分享你的生活</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="dialog" class="none">
                        <div id="dialog-wrapper">
                            <div class="dialog-content">
                                @*----放上傳照片的區塊----*@

                                <div>
                                    <div id="FileUpArea" class="row mt-3">

                                    </div>
                                    <div class="row">
                                        <input id="addFile" type="button" class="form-control col-sm-6 mt-3 " value="增加一個檔案" />
                                        <input id="PhotoFile" name="photo" type="file" class="form-control col-sm-6 mt-3 " value="點我上傳照片" />
                                    </div>

                                </div>

                                @*----放上傳照片的區塊----*@
                                <div class="form-group mt-3">
                                    <textarea class="form-control " name="Pcontent" id="Text1" type="text" required placeholder="請輸入內容"></textarea>
                                </div>
                                <div class="">
                                    <div class="row form-inline mt-1">
                                        <div class="h5">貼文類別</div>
                                        <div class="form-group col-6">
                                            <select id="CID" name="CID" class="form-control">
                                                <option value="0">幽默</option>
                                                <option value="1">建築與裝潢</option>
                                                <option value="2">旅遊</option>
                                                <option value="3">美食</option>
                                                <option value="4">藝術</option>
                                                <option value="5">大自然</option>
                                                <option value="6">時尚</option>
                                                <option value="7">電視與電影</option>
                                                <option value="8">音樂</option>
                                                <option value="9">動畫</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row form-inline mt-1">
                                        <div class="h5">隱私狀態</div>
                                        <div class="form-group col-6">
                                            <select id="SCID" name="SCID" class="form-control">
                                                <option value="0">開放</option>
                                                <option value="1">半開放(限粉絲可看到)</option>
                                                <option value="2">隱藏</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group mt-4">
                                    <div class="d-flex">
                                        <button type="button" class="btn btn-secondary mr-2 ml-auto" data-dismiss="modal">取消</button>
                                        <input type="submit" value="張貼" class="btn btn-primary " />
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

}
@*---------------以上彈窗瀏覽單則貼文---------------*@





@*--------發文部分jquery--------*@

<script src="~/Scripts/jquery-3.5.1.min.js"></script>
<script src="~/Scripts/bootstrap.bundle.min.js"></script>
<script>
    $('.carousel').carousel({
        interval: false
    })

    $('#addFile').click(function () {
        $('#FileUpArea').append('<input id="PhotoFile" name="photo" type="file" class="form-control mt-0 col-6 p-1" value="點我上傳照片" /><br />')
    });
</script>